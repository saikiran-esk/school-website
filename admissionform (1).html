<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Admission Form â€” Save + Print</title>

<style>
  :root{
    --label-color:#b30000;
    --font: "Arial", sans-serif;
  }
  body{font-family:var(--font); margin:12px; background:#fff; color:#111;}
  .container{max-width:980px; margin:auto;}

  /* Header */
  header.screen-header{display:flex;align-items:center;justify-content:center;position:relative;margin-bottom:20px;}
  header.screen-header img.left{position:absolute;left:0;height:70px;}
  header.screen-header img.right{position:absolute;right:0;height:70px;}
  h1.screen-title{text-align:center;font-size:28px;margin:0;color:#0a6b0a;font-weight:700;}

  /* Form table */
  form.table-form table{width:100%;border-collapse:collapse;}
  td.label{width:36%;padding:10px;color:var(--label-color);font-weight:700;}
  td.input{width:64%;padding:10px;}
  input[type="text"],input[type="date"]{width:95%;padding:8px;border:1px solid #666;border-radius:4px;}
  .radio-group{display:flex;gap:12px;}

  /* Buttons */
  .actions{text-align:center;margin-top:20px;}
  button{background:#0066cc;color:#fff;border:none;padding:10px 18px;border-radius:5px;font-weight:700;cursor:pointer;}
  button.secondary{background:#444;margin-left:8px;}

  /* PRINT AREA styles are added in PART 2 */
</style>
</head>

<body>
<div class="container">

  <!-- Header -->
  <header class="screen-header">
    <img src="ap logo.png" class="left">
    <h1 class="screen-title">ADMISSION FORM</h1>
    <img src="sarvashiksha abhiyaan.png" class="right">
  </header>

  <!-- FORM -->
  <form id="admissionForm" class="table-form">
    <table>
      <tr><td class="label">Name of the student</td><td class="input"><input id="name" type="text"></td></tr>

      <tr><td class="label">Gender</td>
        <td class="input">
          <div class="radio-group">
            <label><input name="gender" value="Boy" type="radio"> Boy</label>
            <label><input name="gender" value="Girl" type="radio"> Girl</label>
            <label><input name="gender" value="TG" type="radio"> TG</label>
          </div>
        </td>
      </tr>

      <tr><td class="label">Date of Birth</td><td class="input"><input id="dob" type="date"></td></tr>
      <tr><td class="label">Mother Tongue</td><td class="input"><input id="mt" type="text"></td></tr>
      <tr><td class="label">Aadhar No</td><td class="input"><input id="saadhar" type="text"></td></tr>

      <tr><td class="label">Father's Name</td><td class="input"><input id="fname" type="text"></td></tr>
      <tr><td class="label">Father Occupation</td><td class="input"><input id="focc" type="text"></td></tr>
      <tr><td class="label">Father Aadhar</td><td class="input"><input id="faadhar" type="text"></td></tr>

      <tr><td class="label">Phone No</td><td class="input"><input id="phone" type="text"></td></tr>
      <tr><td class="label">Child ID</td><td class="input"><input id="child" type="text"></td></tr>

      <tr><td class="label">Ration Card</td><td class="input"><input id="ration" type="text"></td></tr>
      <tr><td class="label">Residing With</td><td class="input"><input id="reside" type="text"></td></tr>

      <tr><td class="label">Guardian Name</td><td class="input"><input id="gname" type="text"></td></tr>
      <tr><td class="label">Guardian Occupation</td><td class="input"><input id="gocc" type="text"></td></tr>

      <tr><td class="label">Nationality</td><td class="input"><input id="nation" type="text"></td></tr>
      <tr><td class="label">State</td><td class="input"><input id="state" type="text"></td></tr>
      <tr><td class="label">Religion</td><td class="input"><input id="religion" type="text"></td></tr>

      <tr><td class="label">Caste</td><td class="input"><input id="caste" type="text"></td></tr>
      <tr><td class="label">Sub-caste</td><td class="input"><input id="subcaste" type="text"></td></tr>

      <tr><td class="label">Residence</td><td class="input"><input id="residence" type="text"></td></tr>

      <tr><td class="label">Previous School</td><td class="input"><input id="prevschool" type="text"></td></tr>
      <tr><td class="label">School Code</td><td class="input"><input id="scode" type="text"></td></tr>
      <tr><td class="label">Class Studied</td><td class="input"><input id="sclass" type="text"></td></tr>

      <tr><td class="label">Medium</td><td class="input"><input id="medium" type="text"></td></tr>

      <tr><td class="label">Eligible for Promotion</td>
        <td class="input">
          <div class="radio-group">
            <label><input name="promo" type="radio" value="Yes"> Yes</label>
            <label><input name="promo" type="radio" value="No"> No</label>
          </div>
        </td>
      </tr>

      <tr><td class="label">Record Sheets</td><td class="input"><input id="rsheet" type="text"></td></tr>
      <tr><td class="label">TC Date</td><td class="input"><input id="tcdate" type="date"></td></tr>

      <tr><td class="label">Class Joined</td><td class="input"><input id="joined" type="text"></td></tr>
      <tr><td class="label">Medium (again)</td><td class="input"><input id="medium2" type="text"></td></tr>

      <tr><td class="label">ChildInfo No</td><td class="input"><input id="childinfo" type="text"></td></tr>

      <tr><td class="label">First Language</td><td class="input"><input id="lang1" type="text"></td></tr>
      <tr><td class="label">Second Language</td><td class="input"><input id="lang2" type="text"></td></tr>

      <tr><td class="label">Identification Mark 1</td><td class="input"><input id="mark1" type="text"></td></tr>
      <tr><td class="label">Identification Mark 2</td><td class="input"><input id="mark2" type="text"></td></tr>

      <tr><td class="label">Remarks</td><td class="input"><input id="remarks" type="text"></td></tr>
    </table>

    <!-- BUTTONS -->
    <div class="actions">
      <button type="button" id="saveForm">Save Form</button>
      <button type="button" class="secondary" id="printFilled">Print Filled Form</button>
      <button type="button" class="secondary" id="printBlank">Print Blank Form</button>
      <br><br>
      <a href="savedforms.html">
        <button type="button" style="background:#008800;">View Saved Forms</button>
      </a>
    </div>
  </form>
</div>
<!-- ===================== PRINT AREA (A4 strict government style) ===================== -->
<style>
  @page { size: A4; margin: 10mm; }

  #printArea { display:none; }

  @media print {
    body * { visibility: hidden; }
    #printArea, #printArea * {
      visibility: visible;
    }
    #printArea {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      width: 210mm;
      box-sizing: border-box;
    }
  }

  /* Government style */
  .gov-outer {
    border: 2px solid #000;
    padding: 10px;
    background: #fff;
  }
  .gov-header-table {
    width: 100%;
    height: 34mm;
    border-collapse: collapse;
  }
  .gov-header-table td {
    padding: 0;
    border: none;
  }
  .gov-logo {
    max-height: 30mm;
    display: block;
    margin: auto;
    object-fit: contain;
  }
  .gov-title {
    font-size: 20pt;
    font-weight: 700;
    text-decoration: underline;
    text-align: center;
  }

  .gov-table {
    width: 100%;
    border-collapse: collapse;
  }
  .gov-table td {
    border: 1px solid #000;
    padding: 6px 8px;
    font-size: 12pt;
  }
  .gov-table td.label {
    background: #efefef;
    font-weight: 700;
    width: 35%;
  }
  .gov-table td.value {
    width: 65%;
  }

  .underline {
    display: block;
    width: 100%;
    border-bottom: 1px solid #000;
    padding-bottom: 4px;
    min-height: 20px;
    line-height: 16px;
    box-sizing: border-box;
    font-size: 12pt;
  }

  .sign-row {
    display: flex;
    justify-content: space-between;
    margin-top: 14mm;
  }
  .sign-box {
    width: 48%;
    font-size: 12pt;
  }
</style>

<!-- ===================== PRINT AREA HTML ===================== -->
<div id="printArea">
  <div class="gov-outer">

    <table class="gov-header-table">
      <tr>
        <td><img src="ap logo.png" class="gov-logo"></td>
        <td><div class="gov-title">ADMISSION FORM</div></td>
        <td><img src="sarvashiksha abhiyaan.png" class="gov-logo"></td>
      </tr>
    </table>

    <table class="gov-table">
      <tr><td class="label">Name of the student</td><td class="value"><span class="underline" id="pr_name"></span></td></tr>
      <tr><td class="label">Gender</td><td class="value"><span class="underline" id="pr_gender"></span></td></tr>
      <tr><td class="label">Date of Birth</td><td class="value"><span class="underline" id="pr_dob"></span></td></tr>

      <tr><td class="label">Mother Tongue</td><td class="value"><span class="underline" id="pr_mt"></span></td></tr>
      <tr><td class="label">Aadhar No (student)</td><td class="value"><span class="underline" id="pr_saadhar"></span></td></tr>

      <tr><td class="label">Father's Name</td><td class="value"><span class="underline" id="pr_fname"></span></td></tr>
      <tr><td class="label">Father Occupation</td><td class="value"><span class="underline" id="pr_focc"></span></td></tr>
      <tr><td class="label">Father Aadhar</td><td class="value"><span class="underline" id="pr_faadhar"></span></td></tr>

      <tr><td class="label">Phone No</td><td class="value"><span class="underline" id="pr_phone"></span></td></tr>
      <tr><td class="label">Child ID</td><td class="value"><span class="underline" id="pr_child"></span></td></tr>

      <tr><td class="label">Family Ration Card No</td><td class="value"><span class="underline" id="pr_ration"></span></td></tr>
      <tr><td class="label">Residing With</td><td class="value"><span class="underline" id="pr_reside"></span></td></tr>

      <tr><td class="label">Guardian Name</td><td class="value"><span class="underline" id="pr_gname"></span></td></tr>
      <tr><td class="label">Guardian Occupation</td><td class="value"><span class="underline" id="pr_gocc"></span></td></tr>

      <tr><td class="label">Nationality</td><td class="value"><span class="underline" id="pr_nation"></span></td></tr>
      <tr><td class="label">State</td><td class="value"><span class="underline" id="pr_state"></span></td></tr>
      <tr><td class="label">Religion</td><td class="value"><span class="underline" id="pr_religion"></span></td></tr>

      <tr><td class="label">Caste</td><td class="value"><span class="underline" id="pr_caste"></span></td></tr>
      <tr><td class="label">Sub-caste</td><td class="value"><span class="underline" id="pr_subcaste"></span></td></tr>

      <tr><td class="label">Residence</td><td class="value"><span class="underline" id="pr_residence"></span></td></tr>

      <tr><td class="label">Previous School</td><td class="value"><span class="underline" id="pr_prevschool"></span></td></tr>
      <tr><td class="label">School Code</td><td class="value"><span class="underline" id="pr_scode"></span></td></tr>
      <tr><td class="label">Class Studied</td><td class="value"><span class="underline" id="pr_sclass"></span></td></tr>

      <tr><td class="label">Medium</td><td class="value"><span class="underline" id="pr_medium"></span></td></tr>
      <tr><td class="label">Promotion Eligible</td><td class="value"><span class="underline" id="pr_promo"></span></td></tr>

      <tr><td class="label">Record Sheets</td><td class="value"><span class="underline" id="pr_rsheet"></span></td></tr>
      <tr><td class="label">TC Date</td><td class="value"><span class="underline" id="pr_tcdate"></span></td></tr>

      <tr><td class="label">Class Joined</td><td class="value"><span class="underline" id="pr_joined"></span></td></tr>
      <tr><td class="label">Medium (again)</td><td class="value"><span class="underline" id="pr_medium2"></span></td></tr>

      <tr><td class="label">ChildInfo No</td><td class="value"><span class="underline" id="pr_childinfo"></span></td></tr>

      <tr><td class="label">First Language</td><td class="value"><span class="underline" id="pr_lang1"></span></td></tr>
      <tr><td class="label">Second Language</td><td class="value"><span class="underline" id="pr_lang2"></span></td></tr>

      <tr><td class="label">Identification Mark 1</td><td class="value"><span class="underline" id="pr_mark1"></span></td></tr>
      <tr><td class="label">Identification Mark 2</td><td class="value"><span class="underline" id="pr_mark2"></span></td></tr>

      <tr><td class="label">Remarks</td><td class="value"><span class="underline" id="pr_remarks"></span></td></tr>
    </table>

    <div class="sign-row">
      <div class="sign-box">Parent/Guardian Signature: ____________________</div>
      <div class="sign-box" style="text-align:right;">Headmaster Signature: ____________________</div>
    </div>

  </div>
</div>

<!-- ===================== JAVASCRIPT: SAVE + PRINT ===================== -->
<script>
  function getVal(id){
    let el = document.getElementById(id);
    return el ? el.value : "";
  }

  function fillPrint(blank=false){
    document.getElementById("pr_name").textContent = blank ? "" : getVal("name");

    let g = document.querySelector("input[name='gender']:checked");
    document.getElementById("pr_gender").textContent = blank ? "" : (g ? g.value : "");

    document.getElementById("pr_dob").textContent = blank ? "" : getVal("dob");
    document.getElementById("pr_mt").textContent = blank ? "" : getVal("mt");
    document.getElementById("pr_saadhar").textContent = blank ? "" : getVal("saadhar");
    document.getElementById("pr_fname").textContent = blank ? "" : getVal("fname");
    document.getElementById("pr_focc").textContent = blank ? "" : getVal("focc");
    document.getElementById("pr_faadhar").textContent = blank ? "" : getVal("faadhar");
    document.getElementById("pr_phone").textContent = blank ? "" : getVal("phone");
    document.getElementById("pr_child").textContent = blank ? "" : getVal("child");
    document.getElementById("pr_ration").textContent = blank ? "" : getVal("ration");
    document.getElementById("pr_reside").textContent = blank ? "" : getVal("reside");
    document.getElementById("pr_gname").textContent = blank ? "" : getVal("gname");
    document.getElementById("pr_gocc").textContent = blank ? "" : getVal("gocc");

    document.getElementById("pr_nation").textContent = blank ? "" : getVal("nation");
    document.getElementById("pr_state").textContent = blank ? "" : getVal("state");
    document.getElementById("pr_religion").textContent = blank ? "" : getVal("religion");
    document.getElementById("pr_caste").textContent = blank ? "" : getVal("caste");
    document.getElementById("pr_subcaste").textContent = blank ? "" : getVal("subcaste");
    document.getElementById("pr_residence").textContent = blank ? "" : getVal("residence");

    document.getElementById("pr_prevschool").textContent = blank ? "" : getVal("prevschool");
    document.getElementById("pr_scode").textContent = blank ? "" : getVal("scode");
    document.getElementById("pr_sclass").textContent = blank ? "" : getVal("sclass");
    document.getElementById("pr_medium").textContent = blank ? "" : getVal("medium");

    let p = document.querySelector("input[name='promo']:checked");
    document.getElementById("pr_promo").textContent = blank ? "" : (p ? p.value : "");

    document.getElementById("pr_rsheet").textContent = blank ? "" : getVal("rsheet");
    document.getElementById("pr_tcdate").textContent = blank ? "" : getVal("tcdate");
    document.getElementById("pr_joined").textContent = blank ? "" : getVal("joined");
    document.getElementById("pr_medium2").textContent = blank ? "" : getVal("medium2");
    document.getElementById("pr_childinfo").textContent = blank ? "" : getVal("childinfo");
    document.getElementById("pr_lang1").textContent = blank ? "" : getVal("lang1");
    document.getElementById("pr_lang2").textContent = blank ? "" : getVal("lang2");
    document.getElementById("pr_mark1").textContent = blank ? "" : getVal("mark1");
    document.getElementById("pr_mark2").textContent = blank ? "" : getVal("mark2");
    document.getElementById("pr_remarks").textContent = blank ? "" : getVal("remarks");
  }

  document.getElementById("printFilled").onclick = ()=>{
    fillPrint(false);
    let pa=document.getElementById("printArea");
    pa.style.display="block";
    setTimeout(()=>{window.print();pa.style.display="none";},200);
  };
  document.getElementById("printBlank").onclick = ()=>{
    fillPrint(true);
    let pa=document.getElementById("printArea");
    pa.style.display="block";
    setTimeout(()=>{window.print();pa.style.display="none";},200);
  };

  // =========== SAVE FORM TO LOCALSTORAGE ===========
  document.getElementById("saveForm").onclick = ()=>{
    let student = {};
    let inputs = document.querySelectorAll("input[type=text],input[type=date]");
    inputs.forEach(i => student[i.id] = i.value);

    let gender = document.querySelector("input[name='gender']:checked");
    student.gender = gender ? gender.value : "";

    let promo = document.querySelector("input[name='promo']:checked");
    student.promo = promo ? promo.value : "";

    let all = JSON.parse(localStorage.getItem("students") || "[]");

    student.id = Date.now();
    all.push(student);

    localStorage.setItem("students", JSON.stringify(all));

    alert("Form saved successfully!");
  };
</script>
<script>
  // ================== AUTO-LOAD SAVED FORM ==================
window.addEventListener("DOMContentLoaded", function () {
    let id = localStorage.getItem("loadStudent");
    if (!id) return;

    let all = JSON.parse(localStorage.getItem("students") || "[]");
    let stu = all.find(s => String(s.id) === String(id));
    if (!stu) return;

    // Fill text and date fields
    Object.keys(stu).forEach(key => {
        let inp = document.getElementById(key);
        if (inp && inp.type !== "radio") {
            inp.value = stu[key];
        }
    });

    // Set gender
    if (stu.gender) {
        let g = document.querySelector(`input[name="gender"][value="${stu.gender}"]`);
        if (g) g.checked = true;
    }

    // Set promotion
    if (stu.promo) {
        let p = document.querySelector(`input[name="promo"][value="${stu.promo}"]`);
        if (p) p.checked = true;
    }

    // Remove so next time it doesn't auto-load again
    localStorage.removeItem("loadStudent");
});

</script>
</body>
</html>
